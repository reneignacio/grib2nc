library(glue)
library(doSNOW) # Aseg√∫rate de tener doSNOW si vas a usar paralelismo
library(grib2nc)
library(R.utils)
# Definir directorio base
directorioBase <- "D:/INIA/ICON/prueba_2/"
# Imprimir la carpeta de trabajo
cat(glue("Procesando archivos en la carpeta: {directorioBase}\n"))
# Generar las rutas para buscar en los subdirectorios
rutas <- list.files(directorioBase, full.names = TRUE, recursive = TRUE)
# Filtrar por archivos .bz2 y extraerlos en paralelo
rutas_bz2 <- rutas[grepl("\\.bz2$", rutas)]
if(length(rutas_bz2) > 0) {
extraerBZ2(ruta = rutas_bz2, parallel = TRUE, ncores = 4)
} else {
cat("No se encontraron archivos .bz2 para extraer.\n")
}
